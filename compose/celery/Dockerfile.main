
# ===========================================
# ðŸš€ Helix FastAPI Service
# ===========================================
FROM helix-base AS fast_api_app
CMD ["uvicorn", "src.main:app", "--host", "0.0.0.0", "--port", "8000"]
# ===========================================
# ðŸŸ¥ compose/celery/Dockerfile.helix
# ===========================================
# ðŸ§© Universal Dockerfile Principles (applied below)
# All images will:
# Use the same base image (python:3.11-slim).
# Use the same working directory (/app).
# Define PATH before switching users.
# Always ensure directories exist before chown.
# Use clear USER names that match their role.
# Install requirements safely.
# End with a clear CMD that just work
# ðŸ’¥ Why These Will Work Every Time
# âœ… /app always exists before chown
# âœ… All users are defined after directory creation
# âœ… PATH is exported globally before user switch
# âœ… Celery and Uvicorn will always be found
# âœ… No ARG or variable dependencies (helix etc.)
# âœ… KIS and safe for both Compose and Bake setups
