# ================================================================
# ‚öôÔ∏è CORE APPLICATION & DEPLOYMENT
# ================================================================
POSTGRES_DSN=postgresql+psycopg://helix_user:helix_pass@postgres:5432/helix_db
# replace YOUR_TOKEN_HERE values and install MKCERT > make check
#################################################################
PROJECT_NAME_FULL="HelixNet Core FastAPI"
HX_PROJECT_APP_VERSION=2.0.2
DOCKER_PROJECT_NAME=helixnet
API_VERSION=2.0.1
PROJECT_NAME=2.0.1
PROJECT_APP_VERSION=2.0.1
VCS_REF=env-2B-git-sha-12345
API_V1_STR=/api/v2
OLLAMA_TURBO_POWER_PAID_API_KEY=YOUR_TOKEN_HERE
OLLAMA_MODEL=llama3.2
OLLAMA_TEMPERATURE=0.7
OLLAMA_MAX_TOKENS=2048
TOTAL_CPU_MEM_GB_REQUIRED=0

# ---------------------------------------------------------
# üåê Keycloak Internal (used by FastAPI backend inside Docker)
# ---------------------------------------------------------
KC_HOSTNAME=keycloak.helix.local
POSTGRES_TEST_DB=helix_db-test

OPENAPI_URL=https://helix-platform.local/docs
DOCS_URL=https://helix-platform.local/docs
FASTAPI_BASE_URL=https://keycloak.helix.local
KEYCLOAK_HELIX_REALM_INTERNAL_URL=http://keycloak:8080
KEYCLOAK_BASE_URL=http://keycloak:8080
KEYCLOAK_SERVICE_CLIENT_ID=helix_user
KEYCLOAK_SERVICE_CLIENT_SECRET=helix
KC_DB_USERNAME=helix_user
KC_DB_PASSWORD=helix_pass
# ---------------------------------------------------------
# üåç Keycloak External (used by browsers, Swagger UI, etc.)
# ---------------------------------------------------------
KEYCLOAK_EXTERNAL_URL=https://keycloak.helix.local
KEYCLOAK_DEV_REALM=kc-realm-dev
KC_HOSTNAME_ADMIN_URL=https://keycloak.helix.local
KC_EXTERNAL_URL=https://keycloak.helix.local
VAULT_DEV_LISTEN_ADDRESS=http://vault:8200

# Keycloak basic admin
KEYCLOAK_ADMIN=helix_user
KEYCLOAK_ADMIN_PASSWORD=helix_pass

# Hostnames (used by Traefik/mkcert)
DOMAIN=helix.local
KEYCLOAK_HOSTNAME=keycloak.helix.local
KEYCLOAK_CLIENT_ID=helix_user
KEYCLOAK_CLIENT_SECRET=YOUR_TOKEN_HERE
KC_HTTPS_CERTIFICATE_FILE=./compose/traefik/certs/cert.pem
KC_HTTPS_CERTIFICATE_KEY_FILE=./compose/traefik/certs/key.pem
# ---------------------------------------------------------
# üåê Keycloak Internal (used by FastAPI backend inside Docker)
# ---------------------------------------------------------
KEYCLOAK_SERVER_URL=http://keycloak:8080
KEYCLOAK_MASTER_REALM=master
KEYCLOAK_ADMIN_USER=helix_user
KC_BASE_URL_EXTERNAL=https://keycloak.helix.local
KC_BASE_URL_INTERNAL=http://keycloak:8080

KEYCLOAK_REALM="master"
KC_MASTER_REALM=master
KC_REALM=kc-realm-dev
KC_IMPORT_FILE="kc-realm-dev.json"

KC_CLIENT_ID=helix_user
KC_CLIENT_SECRET=YOUR_TOKEN_HERE

KC_BOOTSTRAP_ADMIN_USERNAME=helix_user
KC_BOOTSTRAP_ADMIN_PASSWORD=helix_pass
KC_SERVICE_CLIENT_ID=helix_user
KC_SERVICE_CLIENT_SECRET=YOUR_TOKEN_HERE
KC_PROXY_HEADERS=forwarded
KC_HTTP_PORT=8080
# Bootstrap admin credentials (must exist in master realm)
HX_SUPER_NAME=helix_user
HX_SUPER_PASSWORD=helix_pass
HX_SUPER_EMAIL=helix_super_user@helix.net

# 9. üëª LEGACY ALIASES (FOR SHELL SCRIPT/COMPOSE COMPATIBILITY)
# ================================================================
HELIX_ENVIRONMENT=dev
HX_ENVIRONMENT=dev
HX_DB_NAME=helix_db
HX_ADMIN_USER=helix_user
HX_ADMIN_PASS=helix_pass
SECRET_KEY=helix_pass
HX_DB_USER=helix_user
HX_DB_PASS=helix_pass


LOG_LEVEL=DEBUG
DEBUG=true
RELOAD=true
TZ=UTC

REFRESH_COOKIE_NAME=helix_refresh
REFRESH_TOKEN_EXPIRE_DAYS_DEFAULT=7
ACCESS_TOKEN_EXPIRE_MINUTES=15
APP_HOST=0.0.0.0
APP_PORT=8000

HX_BASE_URL_EXTERNAL=https://helix-platform.local
TRAEFIK_DASHBOARD_PORT=8888
FLOWER_PORT=5555
DOCKER_KEYCLOAK_IMAGE=docker.io/keycloak/keycloak
DOCKER_KEYCLOAK_VERSION=24.0.4

# Postgres
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=helix_db
POSTGRES_USER=helix_user
POSTGRES_PASSWORD=helix_pass
ASYNC_DATABASE_URL=postgresql+asyncpg://helix_user:helix_pass@postgres:5432/helix_db
SYNC_DATABASE_URL=postgresql+psycopg://helix_user:helix_pass@postgres:5432/helix_db

MINIO_HOST=minio
MINIO_PORT=9000
MINIO_BUCKET=helix-bucket
MINIO_ACCESS_KEY=helix_user
MINIO_SECRET_KEY=helix_pass
MINIO_ENDPOINT_URL=http://minio:minio
MINIO_ROOT_USER=helix_user
MINIO_ROOT_PASSWORD=helix_pass

RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=helix_user
RABBITMQ_PASS=helix_pass

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=1
REDIS_PASSWORD=helix_user
CELERY_BACKEND_URL=redis://redis:6379/1
CELERY_BROKER_URL=amqp://helix_user:helix_pass@rabbitmq:5672/

VAULT_HOST=vault
VAULT_PORT=8200
VAULT_ADDR=http://vault:8200
VAULT_TOKEN=root-token
VAULT_SECRETS_PATH=secret/data/helix

SMTP_HOST=smtp.mailhog.helix.local
SMTP_PORT=1025
SMTP_USER=helix_user
SMTP_PASS=helix_pass
SMTP_SERVICE=mailhog

PGADMIN_HOST=pgadmin
PGADMIN_PORT=5050
PGADMIN_USER=helix_user
PGADMIN_PASS=helix_pass

TRAEFIK_DASHBOARD_USER=helix_user
TRAEFIK_DASHBOARD_PASS=helix_pass

TWILIO_SERVICE=twilio
TWILIO_ACCOUNT_SID=YOUR_TOKEN_HERE
TWILIO_AUTH_TOKEN=YOUR_TOKEN_HERE

# --- ADD THESE LINES TO THE BOTTOM OF .env (SECTION 9) ---
# KC_HOSTNAME=${DB_HOST}
KC_DB_URL=postgresql+asyncpg://helix_user:helix_pass@postgres:5432/helix_db
VAULT_DEV_ROOT_TOKEN_ID=root-token
GH_TOKEN=YOUR_TOKEN_HERE
WEBUI_SECRET_KEY=helix_pass
AWS_ACCESS_KEY_ID=helix_pass
AWS_SECRET_ACCESS_KEY=helix_pass
S3_ACCESS_KEY=helix_pass
AWS_ACCESS_KEY=helix_pass

N8N_RUNNERS_ENABLED=false
N8N_BLOCK_ENV_ACCESS_IN_NODE=false
N8N_DB_USER=helix_user
N8N_DB_PASSWORD=helix_pass
N8N_DB_NAME=helix_db